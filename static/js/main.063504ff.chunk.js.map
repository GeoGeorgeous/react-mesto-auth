{"version":3,"sources":["contexts/currentUserContext.js","components/ProtectedRoute.js","components/Card.js","components/Footer.js","images/logo.svg","components/Header.js","components/Main.js","utils/AuthApi.js","components/Login.js","components/Register.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","ProtectedRoute","Component","component","props","exact","path","loggedIn","to","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","React","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","src","link","alt","title","onClick","type","aria-label","name","length","key","Footer","Header","history","useHistory","linkText","email","showClass","greyClass","logo","localStorage","removeItem","push","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","id","about","map","authApi","baseUrl","headers","this","_baseUrl","_headers","url","init","fetch","then","response","ok","json","Promise","reject","Error","status","JWT","_fetchButCatch","Authorization","userData","method","body","JSON","stringify","loginData","data","token","setItem","catch","err","console","log","authorization","Login","useState","setEmail","password","setPassword","onSubmit","e","preventDefault","authorize","res","handleLogin","handleSubmit","placeholder","onChange","target","value","required","minLength","Register","signUpUser","back","PopupWithForm","openClass","isOpen","disabledClass","isLoading","data-type","noValidate","form","children","disabled","loadingText","submitButtonText","onClose","ImagePopup","cardLink","cardtitle","api","imgSrc","removeLike","setLike","EditProfilePopup","onUpdateUser","setName","setAbout","useEffect","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","cardName","setCardName","setCardLink","newCard","setNewCard","handleOnChange","App","setLoggedIn","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmDeletePopupOpen","selectedCard","setSelectedCard","setLoading","setCards","closeAllPopups","getItem","jwt","verify","user","tokenCheck","all","getUser","getCards","values","loadedUser","loadedCards","error","Provider","changeLikeCardStatus","newCards","c","deleteCard","filter","setUser","finally","setAvatar","uploadCard","uploadedCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.063504ff.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\nexport default CurrentUserContext;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n  <Route exact path={props.path}>\n    {\n        () => ((props.loggedIn) ? <Component {...props} /> : <Redirect to=\"./sign-in\" />)\n      }\n  </Route>\n);\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/currentUserContext'; // Импортируем контекст\n\nexport default function Card({\n  card, onCardClick, onCardLike, onCardDelete,\n}) {\n  // Подписываемся на контекст CurrentUserContext\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `card__delete-button ${isOwn ? 'card__delete-button_visible' : 'card__delete-button_hidden'}`\n  );\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `card__like-button ${isLiked ? 'card__like-button_active' : ''}`\n  );\n\n  function handleCardClick() {\n    // Передаём название и ссылку нажатой картинки в компонент App для открытия lightbox:\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    // Передаём карточку для изменения лайка:\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    // Передаём карточку для удаления:\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"card\" key={card.key}>\n      <img className=\"card__image\" src={card.link} alt={card.title} onClick={handleCardClick} />\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить\" onClick={handleDeleteClick} />\n      <div className=\"card__content\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div>\n          <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Нравится\" onClick={handleLikeClick} />\n          <p className=\"card__likes\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n","import React from 'react';\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">Георгий Горчев &copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/logo.2e17206c.svg\";","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport logo from '../images/logo.svg';\n\nexport default function Header(props) {\n  const history = useHistory();\n  const {\n    link, linkText, email, loggedIn,\n  } = props;\n  const showClass = loggedIn ? 'header__email_show ' : '';\n  const greyClass = loggedIn ? 'header__link_color_grey ' : '';\n\n  function handleLogOut() {\n    if (loggedIn) {\n      localStorage.removeItem('jwt');\n      history.push('/login');\n    }\n  }\n\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" alt=\"Логотип Mesto Russia\" src={logo} />\n      <p className={`header__email ${showClass}`}>{ email }</p>\n      <Link\n        to={link}\n        className={`header__link ${greyClass}`}\n        onClick={handleLogOut}\n      >\n        {linkText}\n      </Link>\n    </header>\n  );\n}\n","import React from 'react';\nimport Card from './Card';\nimport Footer from './Footer';\nimport Header from './Header';\nimport CurrentUserContext from '../contexts/currentUserContext';\n\nexport default function Main(props) {\n  const {\n    onEditAvatar, onEditProfile, onAddPlace, cards, email, loggedIn,\n  } = props;\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header\n        linkText=\"Выйти\"\n        link=\"/sign-in\"\n        email={email}\n        loggedIn={loggedIn}\n      />\n      <main className=\"root__main\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar\">\n            <img className=\"profile__avatar-image\" alt=\"Аватар\" src={currentUser.avatar} />\n            <div className=\"profile__avatar-edit\" onClick={onEditAvatar} />\n          </div>\n          <div className=\"profile__profile-wrapper\">\n            <div className=\"profile__name-wrapper\">\n              <h1 className=\"profile__name\" id=\"profile__name\">{currentUser.name}</h1>\n              <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Редактировать\" onClick={onEditProfile} />\n            </div>\n            <p className=\"profile__description\" id=\"profile__description\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__add-button\" type=\"button\" aria-label=\"Добавить\" onClick={onAddPlace} />\n        </section>\n        <section className=\"cards\">\n          <ul className=\"cards__items\">\n            {cards && cards.map((card) => (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n\n      <Footer />\n\n    </>\n  );\n}\n","/* eslint-disable class-methods-use-this */\nclass AuthApi {\n  // getCards(): получить список всех карточек с сервера в виде массива (GET)\n  // getUser(): получить данные пользователя на сервере  (GET)\n  // setUser(): заменить данные пользователя на сервере (PATCH)\n\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _fetchButCatch(url, init) {\n    return fetch(url, init)\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(new Error(`${response.status}`));\n      });\n  }\n\n  verify(JWT) {\n    return this._fetchButCatch(`${this._baseUrl}/users/me`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${JWT}`,\n      },\n    });\n  }\n\n  signUpUser(userData) {\n    return this._fetchButCatch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(userData),\n    });\n  }\n\n  authorize(loginData) {\n    return this._fetchButCatch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(loginData),\n    })\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('jwt', data.token);\n          return data;\n        }\n        return data;\n      })\n      .catch((err) => { console.log(err); });\n  }\n}\n\nconst authApi = new AuthApi({\n  baseUrl: 'https://auth.nomoreparties.co',\n  headers: {\n    authorization: '25068d5b-79ef-423f-8b22-b9922c31ad6c',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default authApi;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport authApi from '../utils/AuthApi';\n\nexport default function Login(props) {\n  const history = useHistory();\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const data = {\n      password,\n      email,\n    };\n    authApi.authorize(data)\n      .then((res) => {\n        if (res) {\n          setEmail('');\n          setPassword('');\n          console.log('Успешный вход!');\n          props.handleLogin();\n          history.push('/');\n        }\n      })\n      .catch((err) => { console.log(err); });\n  }\n\n  return (\n    <>\n      <Header linkText=\"Регистрация\" link=\"/sign-up\" />\n      <section className=\"page-form\">\n        <h2 className=\"page-form__title\">Вход</h2>\n        <form className=\"page-form__form\" onSubmit={(e) => { handleSubmit(e); }}>\n          <div className=\"page-form__input-wrapper\">\n            <input\n              id=\"email\"\n              className=\"page-form__form-item\"\n              type=\"email\"\n              placeholder=\"Email\"\n              name=\"email\"\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n            <span id=\"email-error\" className=\"popup__form-error\" />\n            <input\n              id=\"password\"\n              className=\"page-form__form-item\"\n              type=\"password\"\n              placeholder=\"Пароль\"\n              name=\"password\"\n              minLength=\"4\"\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n            <span id=\"password-error\" className=\"popup__form-error\" />\n          </div>\n          <div className=\"page-form__button-wrapper\">\n            <button className=\"page-form__button\" type=\"submit\" aria-label=\"Зарегистрироваться\">Войти</button>\n          </div>\n        </form>\n      </section>\n    </>\n  );\n}\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport authApi from '../utils/AuthApi';\n\nexport default function Register() {\n  const history = useHistory();\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const data = {\n      password,\n      email,\n    };\n    authApi.signUpUser(data)\n      .then((back) => {\n        history.push('/sign-in');\n        console.log(back);\n      })\n      .catch((err) => { console.log(err); });\n  }\n\n  return (\n    <>\n      <Header linkText=\"Войти\" link=\"/sign-in\" />\n      <section className=\"page-form\">\n        <h2 className=\"page-form__title\">Регистрация</h2>\n        <form className=\"page-form__form\" onSubmit={(e) => { handleSubmit(e); }}>\n          <div className=\"page-form__input-wrapper\">\n            <input\n              id=\"email\"\n              className=\"page-form__form-item\"\n              type=\"email\"\n              placeholder=\"Email\"\n              name=\"email\"\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n            <span id=\"email-error\" className=\"popup__form-error\" />\n            <input\n              id=\"password\"\n              className=\"page-form__form-item\"\n              type=\"password\"\n              placeholder=\"Пароль\"\n              name=\"password\"\n              minLength=\"4\"\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n            <span id=\"password-error\" className=\"popup__form-error\" />\n          </div>\n          <div className=\"page-form__button-wrapper\">\n            <button\n              className=\"page-form__button\"\n              type=\"submit\"\n              aria-label=\"Зарегистрироваться\"\n            >\n              Зарегистрироваться\n            </button>\n            <p className=\"page-form__hint-message\">\n              Уже зарегистрированы?\n              <Link to=\"/sign-in\" className=\"page-form__hint-link\">Войти</Link>\n            </p>\n          </div>\n        </form>\n      </section>\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function PopupWithForm(props) {\n  const openClass = props.isOpen ? 'popup_opened' : '';\n  const disabledClass = props.isLoading ? 'popup__save-button_inactive' : '';\n\n  return (\n    <div className={`popup popup_type_${props.name} ${openClass}`} data-type=\"place\">\n      <form className=\"popup__container\" name={props.name} id={props.name} onSubmit={props.onSubmit} noValidate>\n        <h3 className=\"popup__title\">{props.title}</h3>\n        <fieldset className=\"popup__form\" form={props.name}>\n          {props.children}\n          <button className={`popup__save-button ${disabledClass}`} type=\"submit\" disabled={!!props.isLoading}>{props.isLoading ? props.loadingText : props.submitButtonText}</button>\n        </fieldset>\n        <button className=\"popup__close-button\" type=\"reset\" aria-label=\"Закрыть\" onClick={props.onClose} />\n      </form>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function ImagePopup(props) {\n  const openClass = props.card.link ? 'popup_opened' : '';\n  const cardLink = props.card.link ? props.card.link : '#';\n  const cardtitle = props.card.name ? props.card.name : '#';\n\n  return (\n    <div className={`popup popup_darkness_lightbox ${openClass}`} data-type=\"lightbox\">\n      <figure className=\"lightbox\">\n        <button className=\"popup__close-button\" type=\"reset\" aria-label=\"Закрыть\" onClick={props.onClose} />\n        <img className=\"lightbox__image\" src={cardLink} alt={cardtitle} />\n        <figcaption className=\"lightbox__caption\">{cardtitle}</figcaption>\n      </figure>\n    </div>\n  );\n}\n","/* eslint-disable class-methods-use-this */\nclass Api {\n// getCards(): получить список всех карточек с сервера в виде массива (GET)\n// getUser(): получить данные пользователя на сервере  (GET)\n// setUser(): заменить данные пользователя на сервере (PATCH)\n// uploadCard(): добавить карточку на сервер (POST)\n// deleteCard(): удалить карточку (DELETE)\n// setAvatar(): заменить аватар (PATCH)\n// setLike(): залайкать карточку (PUT)\n// removeLike(): удалить лайк карточки (DELETE)\n\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _fetchButCatch(url, init) {\n    return fetch(url, init)\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(new Error(`${response.status}`));\n      });\n  }\n\n  getUser() {\n    return this._fetchButCatch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    });\n  }\n\n  setUser(userData) {\n    return this._fetchButCatch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about,\n      }),\n    });\n  }\n\n  setAvatar(imgSrc) {\n    return this._fetchButCatch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: imgSrc,\n      }),\n    });\n  }\n\n  uploadCard(card) {\n    return this._fetchButCatch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    });\n  }\n\n  getCards() {\n    return this._fetchButCatch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    });\n  }\n\n  deleteCard(card) {\n    return this._fetchButCatch(`${this._baseUrl}/cards/${card._id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    });\n  }\n\n  changeLikeCardStatus(card, isLiked) {\n    if (isLiked) {\n      return this.removeLike(card);\n    }\n\n    return this.setLike(card);\n  }\n\n  setLike(card) {\n    return this._fetchButCatch(`${this._baseUrl}/cards/likes/${card._id}`, {\n      method: 'PUT',\n      headers: this._headers,\n    });\n  }\n\n  removeLike(card) {\n    return this._fetchButCatch(`${this._baseUrl}/cards/likes/${card._id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: '25068d5b-79ef-423f-8b22-b9922c31ad6c',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/currentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditProfilePopup({\n  isOpen, onClose, onUpdateUser, submitButtonText, loadingText, isLoading,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(currentUser.name);\n  const [about, setAbout] = React.useState(currentUser.about);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profle\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      submitButtonText={submitButtonText}\n      loadingText={loadingText}\n      isLoading={isLoading}\n      children={(\n        <>\n          <div className=\"popup__form-item-group\">\n            <input\n              id=\"username\"\n              className=\"popup__form-item popup__form-item_input_name\"\n              type=\"text\"\n              placeholder=\"Имя\"\n              value={name || ''}\n              onChange={(e) => setName(e.target.value)}\n              name=\"name\"\n              minLength=\"2\"\n              maxLength=\"40\"\n              required\n            />\n            <span id=\"username-error\" className=\"popup__form-error\" />\n          </div>\n          <div className=\"popup__form-item-group\">\n            <input\n              id=\"description\"\n              className=\"popup__form-item popup__form-item_input_description\"\n              type=\"text\"\n              placeholder=\"Описание профиля\"\n              value={about || ''}\n              onChange={(e) => setAbout(e.target.value)}\n              name=\"about\"\n              minLength=\"2\"\n              maxLength=\"200\"\n              required\n            />\n            <span id=\"description-error\" className=\"popup__form-error\" />\n          </div>\n        </>\n      )}\n    />\n  );\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup({\n  isOpen,\n  onClose,\n  onUpdateAvatar,\n  submitButtonText,\n  loadingText,\n  isLoading,\n}) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(avatarRef.current.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      submitButtonText={submitButtonText}\n      loadingText={loadingText}\n      isLoading={isLoading}\n      children={(\n        <>\n          <div className=\"popup__form-item-group\">\n            <input ref={avatarRef} id=\"link\" className=\"popup__form-item popup__form-item_input_name\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"link\" required />\n            <span id=\"link-error\" className=\"popup__form-error\" />\n          </div>\n        </>\n      )}\n    />\n  );\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup({\n  isOpen, onClose, submitButtonText, onAddPlace, loadingText, isLoading,\n}) {\n  const [cardName, setCardName] = React.useState('');\n  const [cardLink, setCardLink] = React.useState('');\n  const [newCard, setNewCard] = React.useState({\n    name: '',\n    link: '',\n  });\n\n  function handleOnChange(e) {\n    // слабенькая проверка, нужно улучшить или избавиться совсем\n    const { target } = e;\n    const { value } = target;\n    const { name } = target;\n    setNewCard({\n      ...newCard,\n      [name]: value,\n    });\n    target.name === 'name'\n      ? setCardName(value)\n      : setCardLink(value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log(44444);\n    onAddPlace(newCard);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"place\"\n      title=\"Новое место\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      submitButtonText={submitButtonText}\n      loadingText={loadingText}\n      isLoading={isLoading}\n      children={(\n        <>\n          <div className=\"popup__form-item-group\">\n            <input\n              id=\"name\"\n              className=\"popup__form-item popup__form-item_input_name\"\n              type=\"text\"\n              placeholder=\"Название\"\n              onChange={(e) => handleOnChange(e)}\n              name=\"name\"\n              minLength=\"1\"\n              maxLength=\"30\"\n              value={cardName || ''}\n              required\n            />\n            <span id=\"title-error\" className=\"popup__form-error\" />\n          </div>\n          <div className=\"popup__form-item-group\">\n            <input\n              id=\"link\"\n              className=\"popup__form-item popup__form-item_input_description\"\n              type=\"url\"\n              placeholder=\"Ссылка на картинку\"\n              onChange={(e) => handleOnChange(e)}\n              name=\"link\"\n              value={cardLink || ''}\n              required\n            />\n            <span id=\"link-error\" className=\"popup__form-error\" />\n          </div>\n        </>\n      )}\n    />\n  );\n}\n","/* eslint-disable no-unused-vars */\nimport React, { useEffect } from 'react';\nimport {\n  Route, Switch, useHistory,\n} from 'react-router-dom';\nimport CurrentUserContext from '../contexts/currentUserContext';\nimport ProtectedRoute from './ProtectedRoute';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport authApi from '../utils/AuthApi';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n  // useState\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [email, setEmail] = React.useState('');\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmDeletePopupOpen, setConfirmDeletePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isLoading, setLoading] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const history = useHistory();\n\n  // Хенделры onclick\n  const handleEditProfileClick = () => { setEditProfilePopupOpen(true); };\n  const handleAddPlaceClick = () => { setAddPlacePopupOpen(true); };\n  const handleEditAvatarClick = () => { setEditAvatarPopupOpen(true); };\n  const handleDeleteButtonClick = () => { setConfirmDeletePopupOpen(true); };\n  const handleCardClick = (card) => { setSelectedCard(card); };\n  const closeAllPopups = () => {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({});\n  };\n\n  function handleLogin() {\n    setLoggedIn(true);\n  }\n\n  function tokenCheck() {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      authApi.verify(jwt)\n        .then((user) => {\n          setEmail(user.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        });\n    }\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card, isLiked)\n      .then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function handleCardDelete(card) {\n    // Снова проверяем, являемся ли мы овнером карточки\n    if (card.owner._id === currentUser._id) {\n      api.deleteCard(card)\n        .then(() => {\n        // Обновляем стейт\n          setCards(cards.filter((c) => c._id !== card._id));\n        })\n        .catch((err) => console.error(err));\n    }\n  }\n\n  function handleUpdateUser(userData) {\n    setLoading(true);\n    api.setUser(userData)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => console.error(err))\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(imgSrc) {\n    setLoading(true);\n    api.setAvatar(imgSrc)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => console.error(err))\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setLoading(true);\n    api.uploadCard(card)\n      .then((uploadedCard) => {\n        setCards([uploadedCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.error(err))\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  useEffect(() => {\n    tokenCheck(); // Проверяем токен\n    Promise.all([\n      api.getUser(),\n      api.getCards(),\n    ])\n      .then((values) => {\n        console.log('👍 Успешно подключились к серверу и получили данные!');\n        const [loadedUser, loadedCards] = values;\n        setCurrentUser(loadedUser);\n        setCards(loadedCards);\n      })\n      .catch((err) => console.error(err));\n  }, []);\n\n  // Разметка приложения\n  return (\n    <Switch>\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"root\">\n          <p>someText</p>\n          <Route exact path=\"/sign-in\">\n            <Login\n              handleLogin={handleLogin}\n              loggedIn={loggedIn}\n            />\n          </Route>\n\n          <Route path=\"/sign-up\">\n            <Register />\n          </Route>\n\n          <ProtectedRoute\n            path=\"main\"\n            email={email}\n            loggedIn={loggedIn}\n            component={Main}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n          />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            submitButtonText=\"Сохранить\"\n            loadingText=\"Загрузка...\"\n            isLoading={isLoading}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            submitButtonText=\"Сохранить\"\n            loadingText=\"Загрузка...\"\n            isLoading={isLoading}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            submitButtonText=\"Добавить\"\n            loadingText=\"Добавление...\"\n            isLoading={isLoading}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <PopupWithForm\n            name=\"confirm-delete\"\n            title=\"Вы уверены?\"\n            isOpen={isConfirmDeletePopupOpen}\n            onClose={closeAllPopups}\n            children={(\n              <button className=\"popup__save-button popup__save-button_context_confirm-delete\" type=\"submit\">Да</button>\n              )}\n          />\n\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n        </div>\n      </CurrentUserContext.Provider>\n    </Switch>\n  );\n}\n\nexport default App;\n","/* eslint-disable */\nconst reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}